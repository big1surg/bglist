<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<style>
#game{
border-bottom: 1px solid black;
border-radius: 25px;
}
	
#shortImage{
	padding-left:50px;
	padding-right:50px;
}


.jumbotron{
	background-image: url("background.jpg");
	background-size: cover;
}

#randomGame, #gameList, #totalGames, #needToPlaygameList{
	text-align:center;
}

</style>
</head>
<body>

<!-- Content will go here -->
<div class="container-fluid">

<div class="jumbotron">
  <h1 class="display-4 text-white">Board Games</h1>
  <p class="lead text-white">Find Random Game to Play.</p>
  <a class="btn btn-light" href="index.html">Home</a>
  <a class="btn btn-light" href="updates.html">Updates</a>
  <a class="btn btn-light" href="randomgame.html">Random!</a>
</div>
<div>
	<!--<img src="randomGame.png" width="300"/>-->

</div>	
</div>
<div class ="container">
	
<form>
  <div class="form-group">
    <label for="playerCountAtTable">Player Count</label>
    <input type="text" name="players" class="form-control" id="playerCount" placeholder="Enter a number, ie 5">
    <small id="emailHelp" class="form-text text-muted">Enter the number of players who are going to play.</small>
  </div>
  <button type="button" onclick="myFunction()" class="btn btn-primary">Get Games</button>
</form>

	
<!---random game--->
<div>
<h3>Your game is:</h3>
<h3 id="randomGame"></h3>

</div>

<br/><br/>
	
<!---total games--->
<div>
<b>Games at this player count:</b>
<h4 id="totalGames"></h4>

</div>
	
<br/><br/>
<!---all other options--->
<div id="gamesThatNeedToBePlayed">
<b>Games with <5 Plays:</b>
<p id="needToPlaygameList"> </p>

</div>	
<!---all other options--->
<div>
<b>All available games:</b>
<p id="gameList"> </p>

</div>	
	
	
</div> <!---container-->




<script>

//game, min players, max players
var allGames =["7 Wonders",3,6,
	"7 Wonders Duel",2,2,
	"!----Agricola----!",1,6,
	"A Feast for Odin",1,4,
	"Ascension",1,6,
	"!----Ascension: Curse of the Golden Isles----!",1,4,
	"Azul",3,4,
	"Azul: Stained Glass of Sintra", 2,4,
	"!----Azul: Summer Pavilion----!",2,4,
	"Bang", 4,7,
	"!----Betrayal of House on the Hill----!",3,6,
	"Betrayal Legacy",3,5,
	"Calico",1,4,
	"Camel Up",3,8,
	"Cartographers",1,100,
	"!----Catan----!",3,6,
	"!----Cat Sodoku----!",1,6,
	"Century: Golem",2,5,
	"!----Civ: New Dawn----!",1,5,
	"Clank! Acquisitions Incorporated",2,6,
	"!----Concordia----!",2,5,
	"!----Dead of Winter----!",3,5,
	"!----Decrypto----!",3,8,
	"Dixit",3,6,
	"!----Dinosaur Island----!",1,4,
	"!----Dinosaur Tea Party----!",3,5,
	"!----Dominant Species----!",2,6,
	"Dominion",2,4,
	"Dune: Imperium",1,4,
	"!----Eldritch Horror----!",1,8,
	"Ethnos",2,6,
	"!----Evolution----!",2,6,
	"Exploding Kittens",2,5,
	"!----Fireball Island----!",2,4,
	"Flip and Finds Diner",1,4,
	"Food Chain Magnate",2,5,
	"!----Gloom----!",2,4,
	"Gloomhaven",1,4,
	"Gloomhaven: Jaws of the Lion",1,4,
        "!----Great Western Trail----!",1,4,
        "!----The Great Zimbabwe----!",2,5,
	"Hadrians Wall",1,6,
	"Hanabi",2,5,
	"!----Hansa Teutonica----!",2,5,
	"Hit Z Road",1,4,
	"!----Inis----!",2,5,
	"!----Irish Guage----!",3,5,
	"The Isle of Cats",1,6,
	"!----Star Wars: Imperial Assault----!",1,5,
	"!----Jaws----!",1,4,
	"Just One",3,7,
	"Kingdomino",2,5,
	"!----King of Tokyo----!",2,6,
	"!----The King's Dilemma----!",3,5,
	"L.L.A.M.A. Card Game",2,6,
	"!----Lisboa----!",1,4,
	"!----Loony Quest----!",2,4,
	"Love Letter",2,6,
	"!----Marvel United:X-Men----!",1,5,
	"!----Mercado de Lisboa----!",1,4,
	"Mysterium",2,7,
	"Mystic Vale",2,6,
	"!----One Night Ultimate Werewolf----!",3,10,
	"Onitama",2,2,
	"!----Pan Am----!",2,4,
	"!----Pandemic----!",2,4,
	"Patchwork",2,2,
	"!----Pathfinder: Wrath of the Righteous----!",1,4,
	"Photosynthesis",2,4,
	"!----Power Grid----!",2,6,
        "The Quacks Of Quedlinburg",2,5,
	"The Quest for El Dorado",2,4,
	"!----Race for the Galaxy----!",2,4,
	"!----Raxxon----!",1,4,
	"!----Railroad Ink----!",1,6,
	"Red Rising",1,6,
	"!----Risk----!",2,6,
	"!----Rococo: Deluxe----!",1,5,
	"!----Santorini: New York----!",2,5,
	"Shards of Infinity",1,4,
	"!----Sorry!----!",2,4,
	"!----Space Base----!",2,5,
	"!----Spirit Island----!",1,4,
	"!----Splendor----!",2,4,
	"!----Sprawlopolis----!",1,4,
	"Sushi Go!",2,5,
	"!----Teotihuacan----!",1,4,
	"Terraforming Mars",1,5,
	"!----Terra Mystica----!",2,5,
	"!----Through the Ages: A Story of Civilization----!",2,4,
	"!----Tokyo Clash----!",2,4,
	"!----Twilight Imperium----!",3,6,
	"Under Falling Skies",1,1,
	"!----Viticulture----!",1,6,
	"!----Watson and Holmes----!",2,7,
	"!----Windward----!",1,5,
	"Werewords",4,10,
	"Wingspan",1,5
	];
	
//var randomGameDiv = document.getElementById("randomGame");
var gamesList = document.getElementById("gameList");
var needToPlaygamesList = document.getElementById("needToPlaygameList");
var randomGameDiv = document.getElementById("randomGame");
var numOfGames = document.getElementById("totalGames");

function myFunction(){
	clearItems();
	
	var playerCount = parseInt(document.getElementById("playerCount").value);

	var gamesYouCanPlay = [];
	//this is to be used for games with <5 total plays
	var gamesYouShouldPlay = [];

	for(var k = 0; k<=allGames.length-1; k+=3){
		if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2]){
			//gamesYouCanPlay.push(allGames[k]);
			//check if it contains !--- at the start
			if(allGames[k].includes("!----")){
				gamesYouShouldPlay.push(allGames[k]);
			}else{
				gamesYouCanPlay.push(allGames[k]);
			}
		}
	}
	
	//random game, append to randomDiv
	if(gamesYouCanPlay.length>0 || gamesYouShouldPlay.length>0){
		//pick a random game from the games that have <5 plays
		if(gamesYouShouldPlay.length>0){
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouShouldPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouShouldPlay[gameChosenNumber]));
			var totalGamesToPlay = gamesYouShouldPlay.length + gamesYouCanPlay.length;
			numOfGames.appendChild(document.createTextNode(totalGamesToPlay));
			for(var i=0; i<=gamesYouShouldPlay.length-1;i++){
				needToPlaygamesList.appendChild(document.createTextNode(gamesYouShouldPlay[i]));
				needToPlaygamesList.appendChild(document.createElement("br"));
			}
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		//pick a random gaes from all games
		}else{
			//hide the need to play games section so it doesnt take up space
			  var x = document.getElementById("gamesThatNeedToBePlayed");
			  if (x.style.display === "none") {
			    x.style.display = "block";
			  } else {
			    x.style.display = "none";
			  }
			
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouCanPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouCanPlay[gameChosenNumber]));
			numOfGames.appendChild(document.createTextNode(gamesYouCanPlay.length));
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		}
			
		
	}else{
		randomGameDiv.appendChild(document.createTextNode("Can't choose if there aren't any games!"));
		gamesList.appendChild(document.createTextNode("Sorry, nothing available at this player count!"));
	}
}

function clearItems(){
	while(gamesList.firstChild){gamesList.removeChild(gamesList.firstChild);}
	while(needToPlaygamesList.firstChild){needToPlaygamesList.removeChild(needToPlaygamesList.firstChild);}
	while(randomGameDiv.firstChild){randomGameDiv.removeChild(randomGameDiv.firstChild);}
	while(numOfGames.firstChild){numOfGames.removeChild(numOfGames.firstChild);}
}
	



</script>
</body>
</html>
