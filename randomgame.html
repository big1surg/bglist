<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<style>
#game{
border-bottom: 1px solid black;
border-radius: 25px;
}
	
#shortImage{
	padding-left:50px;
	padding-right:50px;
}


.jumbotron{
	background-image: url("background.jpg");
	background-size: cover;
}

#randomGame, #gameList, #totalGames, #needToPlaygameList{
	text-align:center;
}

</style>
</head>
<body>

<!-- Content will go here -->
<div class="container-fluid">

<div class="jumbotron">
  <h1 class="display-4 text-white">Board Games</h1>
  <p class="lead text-white">Find Random Game to Play.</p>
  <a class="btn btn-light" href="index.html">Home</a>
  <a class="btn btn-light" href="updates.html">Updates</a>
  <a class="btn btn-light" href="randomgame.html">Random!</a>
</div>
<div>
	<!--<img src="randomGame.png" width="300"/>-->

</div>	
</div>
<div class ="container">
	
<form>
  <div class="form-group">
    <label for="playerCountAtTable">Player Count</label>
    <input type="text" name="players" class="form-control" id="playerCount" placeholder="Enter a number, ie 5">
    <small id="emailHelp" class="form-text text-muted">Enter the number of players who are going to play.</small>
  </div>
  <div>
	  <label for="complexity">Choose a Complexity:</label>

	<select name="complexity" id="complexity">
	  <option value="All">All</option>
	  <option value="Light">Light</option>
	  <option value="Medium Light">Medium Light</option>
	  <option value="Medium">Medium</option>
	  <option value="Medium Heavy">Medium Heavy</option>
          <option value="Heavy">Heavy</option>
	</select>
  </div>
  <button type="button" onclick="myFunction()" class="btn btn-primary">Get Games</button>
</form>

	
<!---random game--->
<div>
<h3>Your game is:</h3>
<h3 id="randomGame"></h3>

</div>

<br/><br/>
	
<!---total games--->
<div>
<b>Games at this player count:</b>
<h4 id="totalGames"></h4>

</div>
	
<br/><br/>
<!---all other options--->
<div id="gamesThatNeedToBePlayed">
<b>Games with <5 Plays:</b>
<p id="needToPlaygameList"> </p>

</div>	
<!---all other options--->
<div>
<b>All available games:</b>
<p id="gameList"> </p>

</div>	
	
	
</div> <!---container-->




<script>

//game, min players, max players
var allGames =["7 Wonders",3,6,"Medium Light",
	"7 Wonders Duel",2,2,"Medium Light",
	"!----Abomination: The Heir of Frankenstein----!",2,4,"Medium",
	"!----Agricola----!",1,6,"Medium Heavy",
	"A Feast for Odin",1,4,"Medium Heavy",
	"!----Abomination----!",2,4,"Medium",
	"!----Ark Nova----!",1,4,"Medium Heavy",
	"Ascension",1,6,"Medium Light",
	"!----Ascension: Curse of the Golden Isles----!",1,4,"Medium Light",
	"Azul",3,4,"Medium Light",
	"!----Azul: Queens Garden----!",2,4,"Medium",
	"Azul: Stained Glass of Sintra", 2,4,"Medium Light",
	"!----Azul: Summer Pavilion----!",2,4,"Medium Light",
	"Bang", 4,7,"Light",
	"!----Betrayal of House on the Hill----!",3,6,"Medium Light",
	"Betrayal Legacy",3,5,"Medium",
	"Beyond the Sun",2,4,"Medium",
	"Calico",1,4,"Medium Light",
	"Camel Up",3,8,"Light",
	"Cartographers",1,100,"Medium Light",
	"!----Castles of Mad King Ludwig----!",1,4,"Medium",
	"!----Catan----!",3,6,"Medium Light",
	"!----Cat Sodoku----!",1,6,"Light",
	"Century: Golem",2,5,"Medium Light",
	"!----Civ: New Dawn----!",1,5,"Medium",
	"Clank! Acquisitions Incorporated",2,6,"Medium",
	"!----Cubitos----!",2,4,"Medium Light",
	"!----CO2----!",1,5,"Medium Heavy",
	"!----Codenames----!",2,8,"Light",
	"!----Concordia----!",2,5,"Medium",
	"!----Dead of Winter----!",3,5,"Medium",
	"!----Decrypto----!",3,8,"Medium Light",
	"Dixit",3,6,"Light",
	"!----Dinosaur Island----!",1,4,"Medium",
	"!----Dinosaur Tea Party----!",3,5,"Light",
	"!----Dominant Species----!",2,6,"Medium Heavy",
	"Dominion",2,4,"Medium Light",
	"Dune: Imperium",1,4,"Medium",
	"!----Eldritch Horror----!",1,8,"Medium",
	"Ethnos",2,6,"Medium Light",
	"!----Evolution----!",2,6,"Medium Light",
	"Exploding Kittens",2,5,"Light",
	"Fantasy Realms",2,6,"Medium Light",
	"!----Fireball Island----!",2,4,"Light",
	"Flip and Finds Diner",1,4,"Light",
	"Food Chain Magnate",2,5,"Medium Heavy",
	"!----Gate----!",1,1,"Medium Light",
	"!----Gloom----!",2,4,"Light",
	"Gloomhaven",1,4,"Medium Heavy",
	"Gloomhaven: Jaws of the Lion",1,4,"Medium Heavy",
        "!----Great Western Trail----!",1,4,"Medium Heavy",
        "!----The Great Zimbabwe----!",2,5,"Medium Heavy",
	"Hadrians Wall",1,6,"Medium",
	"Hanabi",2,5,"Medium Light",
	"!----Hansa Teutonica----!",2,5,"Medium",
	"Hit Z Road",1,4,"Medium Light",
	"!----Inis----!",2,5,"Medium",
	"!----Irish Gauge----!",3,5,"Medium Light",
	"The Isle of Cats",1,6,"Medium Light",
	"IoC: Explore and Draw",1,6,"Medium Light",
	"!----Jaws----!",1,4,"Medium Light",
	"Just One",3,7,"Light",
	"!----Kero----!",2,2,"Medium Light",
	"Kingdomino",2,5,"Light",
	"!----King of Tokyo----!",2,6,"Light",
	"!----The King's Dilemma----!",3,5,"Medium Light",
	"!----Lost Ruins of Arnak----!",1,4,"Medium",
	"L.L.A.M.A. Card Game",2,6,"Light",
	"!----Lisboa----!",1,4,"Heavy",
	"!----Loony Quest----!",2,4,"Light",
	"Love Letter",2,6,"Light",
	"!----Maglev Metro----!",1,4,"Medium",
	"!----The Magnificent----!",1,4,"Medium",
	"Marvel United:X-Men",1,5,"Medium Light",
	"!----Mercado de Lisboa----!",1,4,"Medium Light",
	"MicroMacro: Crime City - Full House",1,4,"Light",
	"My City",2,4,"Medium Light",
	"Mysterium",2,7,"Medium Light",
	"Mystic Vale",2,6,"Medium Light",
	"!----Nemo's War----!",1,4,"Medium",
	"!----One Night Ultimate Werewolf----!",3,10,"Light",
	"Onitama",2,2,"Medium Light",
	"!----Pan Am----!",2,4,"Medium Light",
	"!----Pandemic----!",2,4,"Medium Light",
	"Patchwork",2,2,"Medium Light",
	"Photosynthesis",2,4,"Medium Light",
	"!----Power Grid----!",2,6,"Medium",
        "The Quacks Of Quedlinburg",2,5,"Medium Light",
	"The Quest for El Dorado",2,4,"Medium Light",
	"!----Race for the Galaxy----!",2,4,"Medium",
	"!----Raxxon----!",1,4,"Medium Light",
	"!----Railroad Ink----!",1,6,"Light",
	"Red Rising",1,6,"Medium Light",
	"!----Risk----!",2,6,"Medium Light",
	"!----Rococo: Deluxe----!",1,5,"Medium",
	"!----Santorini: New York----!",2,5,"Medium Light",
	"Sagrada",1,4,"Medium Light",
	"Shards of Infinity",1,4,"Medium Light",
	"Space Base",2,5,"Medium Light",
	"!----Spirit Island----!",1,4,"Medium Heavy",
	"Splendor",2,4,"Medium Light",
	"!----Sprawlopolis----!",1,4,"Medium Light",
	"!----Star Wars: Imperial Assault----!",1,5,"Medium",
	"Sushi Go!",2,5,"Light",
	"!----Teotihuacan----!",1,4,"Medium Heavy",
	"Terraforming Mars",1,5,"Medium",
	"!----Terraforming Mars: Ares Expedition----!",1,4,"Medium",
	"!----Terra Mystica----!",1,5,"Medium Heavy",
	"!----Through the Ages: A Story of Civilization----!",2,4,"Medium Heavy",
	"!----Thunderstone Quest----!",1,6,"Medium",
	"!----Tokyo Clash----!",2,4,"Medium Light",
	"!----Treasure Island----!",2,5,"Medium Light",
	"Trickerion",1,4,"Medium Heavy",
	"!----Twilight Imperium----!",3,6,"Medium Heavy",
	"Under Falling Skies",1,1,"Medium Light",
	"!----Victorian Masterminds----!",2,4,"Medium Light",
	"!----Viticulture----!",1,6,"Medium",
	"!----Watson and Holmes----!",2,7,"Medium Light",
	"!----Windward----!",1,5,"Medium Light",
	"Werewords",4,10,"Light",
	"Wingspan",1,5,"Medium Light"
	];
	
//var randomGameDiv = document.getElementById("randomGame");
var gamesList = document.getElementById("gameList");
var needToPlaygamesList = document.getElementById("needToPlaygameList");
var randomGameDiv = document.getElementById("randomGame");
var numOfGames = document.getElementById("totalGames");
	


function myFunction(){
	clearItems();
	
	var playerCount = parseInt(document.getElementById("playerCount").value);
	
	//get complexity
	var complexityRating = document.getElementById("complexity");
	var valueRating = complexityRating.options[complexityRating.selectedIndex].value;
	
	var gamesYouCanPlay = [];
	//this is to be used for games with <5 total plays
	var gamesYouShouldPlay = [];
	
	if(valueRating == "All"){
		console.log("Showing all games at player count");
		for(var k = 0; k<=allGames.length-1; k+=4){
			if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2]){
				//gamesYouCanPlay.push(allGames[k]);
				//check if it contains !--- at the start
				if(allGames[k].includes("!----")){
					gamesYouShouldPlay.push(allGames[k]);
				}else{
					gamesYouCanPlay.push(allGames[k]);
				}
			}
		}
	}else{
		console.log("Showing all games at player count with "+valueRating+" complexity");
		for(var k = 0; k<=allGames.length-1; k+=4){
			if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2] && allGames[k+3]==valueRating){
				//gamesYouCanPlay.push(allGames[k]);
				//check if it contains !--- at the start
				if(allGames[k].includes("!----")){
					gamesYouShouldPlay.push(allGames[k]);
				}else{
					gamesYouCanPlay.push(allGames[k]);
				}
			}
		}
	}
	
	//random game, append to randomDiv
	if(gamesYouCanPlay.length>0 || gamesYouShouldPlay.length>0){
		//pick a random game from the games that have <5 plays
		if(gamesYouShouldPlay.length>0){
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouShouldPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouShouldPlay[gameChosenNumber]));
			var totalGamesToPlay = gamesYouShouldPlay.length + gamesYouCanPlay.length;
			numOfGames.appendChild(document.createTextNode(totalGamesToPlay));
			for(var i=0; i<=gamesYouShouldPlay.length-1;i++){
				needToPlaygamesList.appendChild(document.createTextNode(gamesYouShouldPlay[i]));
				needToPlaygamesList.appendChild(document.createElement("br"));
			}
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		//pick a random gaes from all games
		}else{
			//hide the need to play games section so it doesnt take up space
			  var x = document.getElementById("gamesThatNeedToBePlayed");
			  if (x.style.display === "none") {
			    x.style.display = "block";
			  } else {
			    x.style.display = "none";
			  }
			
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouCanPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouCanPlay[gameChosenNumber]));
			numOfGames.appendChild(document.createTextNode(gamesYouCanPlay.length));
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		}
			
		
	}else{
		randomGameDiv.appendChild(document.createTextNode("Can't choose if there aren't any games!"));
		gamesList.appendChild(document.createTextNode("Sorry, nothing available at this player count!"));
	}
}

function clearItems(){
	while(gamesList.firstChild){gamesList.removeChild(gamesList.firstChild);}
	while(needToPlaygamesList.firstChild){needToPlaygamesList.removeChild(needToPlaygamesList.firstChild);}
	while(randomGameDiv.firstChild){randomGameDiv.removeChild(randomGameDiv.firstChild);}
	while(numOfGames.firstChild){numOfGames.removeChild(numOfGames.firstChild);}
}
	



</script>
</body>
</html>
