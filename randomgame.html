<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<style>
#game{
border-bottom: 1px solid black;
border-radius: 25px;
}
	
#shortImage{
	padding-left:50px;
	padding-right:50px;
}


.jumbotron{
	background-image: url("background.jpg");
	background-size: cover;
}

#randomGame, #gameList, #totalGames, #needToPlaygameList{
	text-align:center;
}

</style>
</head>
<body>

<!-- Content will go here -->
<div class="container-fluid">

<div class="jumbotron">
  <h1 class="display-4 text-white">Board Games</h1>
  <p class="lead text-white">Find Random Game to Play.</p>
  <a class="btn btn-light" href="index.html">Home</a>
  <a class="btn btn-light" href="randomgame.html">Random!</a>
  <a class="btn btn-light" href="https://boardgamegeek.com/collection/user/biggy_serg">BGG</a>
</div>
<div>
	<!--<img src="randomGame.png" width="300"/>-->

</div>	
</div>
<div class ="container">
	
<form>
  <div class="form-group">
    <label for="playerCountAtTable">Player Count</label>
    <input type="text" name="players" class="form-control" id="playerCount" placeholder="Enter a number, ie 5">
    <small id="emailHelp" class="form-text text-muted">Enter the number of players who are going to play.</small>
  </div>
  <div>
	  <label for="complexity">Choose a Complexity:</label>

	<select name="complexity" id="complexity">
	  <option value="All">All</option>
	  <option value="Light">Light</option>
	  <option value="Medium Light">Medium Light</option>
	  <option value="Medium">Medium</option>
	  <option value="Medium Heavy">Medium Heavy</option>
          <option value="Heavy">Heavy</option>
	</select>
  </div>
  <button type="button" onclick="myFunction()" class="btn btn-primary">Get Games</button>
</form>

	
<!---random game--->
<div>
<h3>Your game is:</h3>
<h3 id="randomGame"></h3>

</div>

<br/><br/>
	
<!---total games--->
<div>
<b>Games at this player count:</b>
<h4 id="totalGames"></h4>

</div>
	
<br/><br/>
<!---all other options--->
<div id="gamesThatNeedToBePlayed">
<b>Games with <5 Plays:</b>
<p id="needToPlaygameList"> </p>

</div>	
<!---all other options--->
<div>
<b>All available games:</b>
<p id="gameList"> </p>

</div>	
	
	
</div> <!---container-->




<script>

//game, min players, max players
var allGames =["7 Wonders",3,6,"Medium Light",
	"7 Wonders Duel",2,2,"Medium Light",
	"__Abomination: The Heir of Frankenstein__",2,4,"Medium",
	"__Agricola__",1,6,"Medium Heavy",
	"__Anno 1800__",1,4,"Medium",
	"A Feast for Odin",1,4,"Medium Heavy",
	"__Abomination__",2,4,"Medium",
	"__Ark Nova__",1,4,"Medium Heavy",
	"Ascension",1,6,"Medium Light",
	"__Ascension: Curse of the Golden Isles__",1,4,"Medium Light",
	"Azul",3,4,"Medium Light",
	"__Azul: Queens Garden__",2,4,"Medium",
	"Azul: Stained Glass of Sintra", 2,4,"Medium Light",
	"__Azul: Summer Pavilion__",2,4,"Medium Light",
	"Bang", 4,7,"Light",
	"__Betrayal of House on the Hill__",3,6,"Medium Light",
	"__Beyond the Sun__",2,4,"Medium",
	"Calico",1,4,"Medium Light",
	"Camel Up",3,8,"Light",
	"Cartographers",1,100,"Medium Light",
	"__Castles of Mad King Ludwig__",1,4,"Medium",
	"__Catan__",3,6,"Medium Light",
	"__Cat Sodoku__",1,6,"Light",
	"Century: Golem",2,5,"Medium Light",
	"__Civ: New Dawn__",1,5,"Medium",
	"Clank! Acquisitions Incorporated",2,6,"Medium",
	"__Clank! Catacombs__",1,6,"Medium",
	"__Coatl__",1,4,"Medium Light",
	"Cubitos",2,4,"Medium Light",
	"__CO2__",1,5,"Medium Heavy",
	"__Codenames__",2,8,"Light",
	"__Concordia__",2,5,"Medium",
	"__Dead of Winter__",3,5,"Medium",
	"__Decrypto__",3,8,"Medium Light",
	"Dixit",3,6,"Light",
	"__Dinosaur Island__",1,4,"Medium",
	"__Dinosaur Tea Party__",3,5,"Light",
	"__Dominant Species__",2,6,"Medium Heavy",
	"Dominion",2,4,"Medium Light",
	"Dune: Imperium",1,4,"Medium",
	"__Eldritch Horror__",1,8,"Medium",
	"__Eminent Domain__",2,4,"Medium Light",
	"__Escape Plan__",1,5,"Medium Heavy",
	"Ethnos",2,6,"Medium Light",
	"__Evolution__",2,6,"Medium Light",
	"Exploding Kittens",2,5,"Light",
	"Fantasy Realms",2,6,"Medium Light",
	"__Final Girl__",1,1,"Medium Light",
	"__Fireball Island__",2,4,"Light",
	"__First Rat__",1,5,"Medium Light",
	"__Fleet: The Dice Game__",1,4,"Medium",
	"Flip and Finds Diner",1,4,"Light",
	"Food Chain Magnate",2,5,"Medium Heavy",
	"__Gate__",1,1,"Medium Light",
	"__Gloom__",2,4,"Light",
	"Gloomhaven",1,4,"Medium Heavy",
	"Gloomhaven: Jaws of the Lion",1,4,"Medium Heavy",
        "__Great Western Trail__",1,4,"Medium Heavy",
        "__The Great Zimbabwe__",2,5,"Medium Heavy",
	"Hadrians Wall",1,6,"Medium",
	"Hanabi",2,5,"Medium Light",
	"__Hansa Teutonica__",2,5,"Medium",
	"Hit Z Road",1,4,"Medium Light",
	"__Inis__",2,5,"Medium",
	"__Imperial Settlers__",1,4,"Medium",
	"__Imperium: Classics__",1,4,"Medium Heavy",
	"__Irish Gauge__",3,5,"Medium Light",
	"The Isle of Cats",1,6,"Medium Light",
	"__IoC: Explore and Draw__",1,6,"Medium Light",
	"__Jaws__",1,4,"Medium Light",
	"Just One",3,7,"Light",
	"Keystone: North America",1,4,"Medium Light",
	"__Kero__",2,2,"Medium Light",
	"Kingdomino",2,5,"Light",
	"__King of Tokyo__",2,6,"Light",
	"__The King's Dilemma__",3,5,"Medium Light",
	"__Libertalia__",1,6,"Medium Light",
	"__Lost Ruins of Arnak__",1,4,"Medium",
	"L.L.A.M.A. Card Game",2,6,"Light",
	"__Lisboa__",1,4,"Heavy",
	"__Long Shot: The Dice Game__",1,8,"Light",
	"__Loony Quest__",2,4,"Light",
	"Love Letter",2,6,"Light",
	"__Maglev Metro__",1,4,"Medium",
	"__The Magnificent__",1,4,"Medium",
	"Marvel United:X-Men",1,5,"Medium Light",
	"__Mercado de Lisboa__",1,4,"Medium Light",
	"MicroMacro: Crime City - Full House",1,4,"Light",
	"My City",2,4,"Medium Light",
	"Mysterium",2,7,"Medium Light",
	"Mystic Vale",2,6,"Medium Light",
	"__Nemo's War__",1,1,"Medium",
	"__One Night Ultimate Werewolf__",3,10,"Light",
	"Onitama",2,2,"Medium Light",
	"__Paladins of the West Kingdom__",1,4,"Medium Heavy",
	"__Pan Am__",2,4,"Medium Light",
	"__Pandemic__",2,4,"Medium Light",
	"Patchwork",2,2,"Medium Light",
	"__Pictures__",3,5,"Light",
	"Photosynthesis",2,4,"Medium Light",
	"__Power Grid__",2,6,"Medium",
	"__Public Market__",1,4,"Medium",
        "The Quacks Of Quedlinburg",2,5,"Medium Light",
	"The Quest for El Dorado",2,4,"Medium Light",
	"__Race for the Galaxy__",2,4,"Medium",
	"__Raxxon__",1,4,"Medium Light",
	"__Railroad Ink__",1,6,"Light",
	"Red Rising",1,6,"Medium Light",
	"__Risk__",2,6,"Medium Light",
	"__Rococo: Deluxe__",1,5,"Medium",
	"__Santorini: New York__",2,5,"Medium Light",
	"Sagrada",1,4,"Medium Light",
	"__Scattergories__",2,6,"Light",
	"__Sentinels of the Multiverse__",1,5,"Medium",
	"Shards of Infinity",1,4,"Medium Light",
	"Space Base",2,5,"Medium Light",
	"__Spirit Island__",1,4,"Medium Heavy",
	"Splendor",2,4,"Medium Light",
	"__Sprawlopolis__",1,4,"Medium Light",
	"Sushi Go!",2,5,"Light",
	"__Teotihuacan__",1,4,"Medium Heavy",
	"Terraforming Mars",1,5,"Medium",
	"__Terraforming Mars: Ares Expedition__",1,4,"Medium",
	"__Terra Mystica__",2,5,"Medium Heavy",
	"__Through the Ages: A Story of Civilization__",2,4,"Medium Heavy",
	"__Thunderstone Quest__",1,6,"Medium",
	"__Tokyo Clash__",2,4,"Medium Light",
	"__Tokyo Highway__",2,4,"Light",
	"__Treasure Island__",2,5,"Medium Light",
	"__Trickerion__",1,4,"Medium Heavy",
	"__Twilight Imperium__",3,6,"Medium Heavy",
	"__Twilight Inscription__",1,8,"Medium",
	"Under Falling Skies",1,1,"Medium Light",
	"__Victorian Masterminds__",2,4,"Medium Light",
	"__Viticulture__",1,6,"Medium",
	"Warps Edge",1,1,"Medium Light",
	"__Wavelength__",2,12,"Light",
	"__Watson and Holmes__",2,7,"Medium Light",
	"__Windward__",1,5,"Medium Light",
	"Werewords",4,10,"Light",
	"__Whistle Stop__",2,5,"Medium",
	"Wingspan",1,5,"Medium Light"
	];
	
//var randomGameDiv = document.getElementById("randomGame");
var gamesList = document.getElementById("gameList");
var needToPlaygamesList = document.getElementById("needToPlaygameList");
var randomGameDiv = document.getElementById("randomGame");
var numOfGames = document.getElementById("totalGames");
	


function myFunction(){
	clearItems();
	
	var playerCount = parseInt(document.getElementById("playerCount").value);
	
	//get complexity
	var complexityRating = document.getElementById("complexity");
	var valueRating = complexityRating.options[complexityRating.selectedIndex].value;
	
	var gamesYouCanPlay = [];
	//this is to be used for games with <5 total plays
	var gamesYouShouldPlay = [];
	
	if(valueRating == "All"){
		console.log("Showing all games at player count");
		for(var k = 0; k<=allGames.length-1; k+=4){
			if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2]){
				//gamesYouCanPlay.push(allGames[k]);
				//check if it contains __ at the start
				if(allGames[k].includes("__")){
					gamesYouShouldPlay.push(allGames[k]);
				}else{
					gamesYouCanPlay.push(allGames[k]);
				}
			}
		}
	}else{
		console.log("Showing all games at player count with "+valueRating+" complexity");
		for(var k = 0; k<=allGames.length-1; k+=4){
			if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2] && allGames[k+3]==valueRating){
				//gamesYouCanPlay.push(allGames[k]);
				//check if it contains __ at the start
				if(allGames[k].includes("__")){
					gamesYouShouldPlay.push(allGames[k]);
				}else{
					gamesYouCanPlay.push(allGames[k]);
				}
			}
		}
	}
	
	//random game, append to randomDiv
	if(gamesYouCanPlay.length>0 || gamesYouShouldPlay.length>0){
		//pick a random game from the games that have <5 plays
		if(gamesYouShouldPlay.length>0){
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouShouldPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouShouldPlay[gameChosenNumber]));
			var totalGamesToPlay = gamesYouShouldPlay.length + gamesYouCanPlay.length;
			numOfGames.appendChild(document.createTextNode(totalGamesToPlay));
			for(var i=0; i<=gamesYouShouldPlay.length-1;i++){
				needToPlaygamesList.appendChild(document.createTextNode(gamesYouShouldPlay[i]));
				needToPlaygamesList.appendChild(document.createElement("br"));
			}
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		//pick a random gaes from all games
		}else{
			//hide the need to play games section so it doesnt take up space
			  var x = document.getElementById("gamesThatNeedToBePlayed");
			  if (x.style.display === "none") {
			    x.style.display = "block";
			  } else {
			    x.style.display = "none";
			  }
			
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouCanPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouCanPlay[gameChosenNumber]));
			numOfGames.appendChild(document.createTextNode(gamesYouCanPlay.length));
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		}
			
		
	}else{
		randomGameDiv.appendChild(document.createTextNode("Can't choose if there aren't any games!"));
		gamesList.appendChild(document.createTextNode("Sorry, nothing available at this player count!"));
	}
}

function clearItems(){
	while(gamesList.firstChild){gamesList.removeChild(gamesList.firstChild);}
	while(needToPlaygamesList.firstChild){needToPlaygamesList.removeChild(needToPlaygamesList.firstChild);}
	while(randomGameDiv.firstChild){randomGameDiv.removeChild(randomGameDiv.firstChild);}
	while(numOfGames.firstChild){numOfGames.removeChild(numOfGames.firstChild);}
}
	



</script>
</body>
</html>
