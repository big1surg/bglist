<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<style>
#game{
border-bottom: 1px solid black;
border-radius: 25px;
}
	
#shortImage{
	padding-left:50px;
	padding-right:50px;
}


.jumbotron{
	background-image: url("background.jpg");
	background-size: cover;
}

#randomGame, #gameList, #totalGames, #needToPlaygameList{
	text-align:center;
}

</style>
</head>
<body>

<!-- Content will go here -->
<div class="container-fluid">

<div class="jumbotron">
  <h1 class="display-4 text-white">Board Games</h1>
  <p class="lead text-white">Find Random Game to Play.</p>
  <a class="btn btn-light" href="index.html">Home</a>
  <a class="btn btn-light" href="randomgame.html">Random</a>
  <a class="btn btn-light" href="https://boardgamegeek.com/collection/user/biggy_serg">BGG</a>
</div>
<div>
	<!--<img src="randomGame.png" width="300"/>-->

</div>	
</div>
<div class ="container">
	
<form>
  <div class="form-group">
    <label for="playerCountAtTable">Player Count</label>
    <input type="text" name="players" class="form-control" id="playerCount" placeholder="Enter the number of players who are going to play">
    <small id="emailHelp" class="form-text text-muted">Enter ! after a number to get games with that player count as the max players.</small>
  </div>
  <div>
	  <label for="complexity">Choose a Complexity:</label>

	<select name="complexity" id="complexity">
	  <option value="All">All</option>
	  <option value="Light">Light</option>
	  <option value="Medium Light">Medium Light</option>
	  <option value="Medium">Medium</option>
	  <option value="Medium Heavy">Medium Heavy</option>
          <option value="Heavy">Heavy</option>
	</select>
  </div>
   <div>
	  <label for="theme">Choose a Theme:</label>

	<select name="theme" id="theme">
	  <option value="All">All</option>
	  <option value="Abstract">Abstract</option>
	  <option value="Adventure">Adventure</option>
	  <option value="Africa">Africa</option>
	  <option value="Airplanes">Airplanes</option>
	  <option value="Animals">Animals</option>
	  <option value="Aztec">Aztec</option>
	  <option value="Cars">Cars</option>
	  <option value="Chinese">Chinese</option>
	  <option value="City Building">City Building</option>
	  <option value="Civilization">Civilization</option>
	  <option value="Colonial">Colonial</option>
	  <option value="Cowboys">Cowboys</option>
	  <option value="Deduction">Deduction</option>
	  <option value="Detective">Detective</option>
	  <option value="Disease">Disease</option>
	  <option value="Drawing">Drawing</option>
	  <option value="Dungeon Crawling">Dungeon Crawling</option>
	  <option value="Economic">Economic</option>
	  <option value="Environmental">Environmental</option>
	  <option value="Fantasy">Fantasy</option>
	  <option value="Farming">Farming</option>
	  <option value="Fishing">Fishing</option>
	  <option value="Food">Food</option>
	  <option value="Futuristic">Futuristic</option>
	  <option value="Gardening">Gardening</option>
	  <option value="Heist">Heist</option>
	  <option value="Heroes">Heroes</option>
	  <option value="Highway Building">Highway Building</option>
	  <option value="Horror">Horror</option>
	  <option value="Industrialization">Industrialization</option>
	  <option value="Jungle">Jungle</option>
	  <option value="Magic">Magic</option>
	  <option value="Medieval">Medieval</option>
	  <option value="Mediterranean">Mediterranean</option>
	  <option value="Monsters">Monsters</option>
	  <option value="Music">Music</option>
	  <option value="Party">Party</option>
	  <option value="Pirates">Pirates</option>
	  <option value="Plants">Plants</option>
	  <option value="Playground">Playground</option>
	  <option value="Political">Political</option>
          <option value="Prehistoric">Prehistoric</option>
	  <option value="Racing">Racing</option>
	  <option value="Religion">Religion</option>
	  <option value="Renaissance">Renaissance</option>
	  <option value="Roll and Write">Roll and Write</option>
	  <option value="Royalty">Royalty</option>
	  <option value="Science Fiction">Science Fiction</option>
	  <option value="Space">Space</option>
	  <option value="Time Travel">Time Travel</option>
	  <option value="Trains">Trains</option>
	  <option value="Traitor">Traitor</option>
	  <option value="Vikings">Vikings</option>
	  <option value="War">War</option>
	  <option value="Wasteland">Wasteland</option>
	  <option value="Zombies">Zombies</option>
	</select>
  </div>
  <button type="button" onclick="myFunction()" class="btn btn-primary">Get Games</button>
</form>

	
<!---random game--->
<div>
<h3>Your game is:</h3>
<h3 id="randomGame"></h3>

</div>

<br/><br/>
	
<!---total games--->
<div>
<b>Games at this player count:</b>
<h4 id="totalGames"></h4>

</div>
	
<br/><br/>
<!---all other options--->
<div id="gamesThatNeedToBePlayed">
<b>Games with <5 Plays:</b>
<p id="needToPlaygameList"> </p>

</div>	
<!---all other options--->
<div>
<b>All available games:</b>
<p id="gameList"> </p>

</div>	
	
	
</div> <!---container-->




<script>

//game, min players, max players, theme
var allGames =["7 Wonders Duel",2,2,"Medium Light","Civilization",
	"__Abomination: The Heir of Frankenstein__",2,4,"Medium","Horror",
	"__Agricola__",1,6,"Medium Heavy","Farming",
	"__Anachrony__",2,4,"Medium Heavy","Time Travel",
	"Anno 1800",1,4,"Medium","City Building",
	"__Antiquity__",2,4,"Medium Heavy","Civilization, Economic",
	"A Feast for Odin",1,4,"Medium Heavy","Farming",
	"__Architects of the West Kingdom__",1,5,"Medium","City Building",
	"__Ark Nova__",1,4,"Medium Heavy","Economic",
	"Ascension",1,6,"Medium Light","Monsters, Fantasy",
	"__At the Gates of Loyang__",1,4,"Medium","Civilization, Chinese, Economic",
	"Azul",3,4,"Medium Light","Abstract",
	"Azul: Queens Garden",2,4,"Medium","Abstract",
	"Azul: Stained Glass of Sintra",2,4,"Medium Light","Abstract",
	"__Azul: Summer Pavilion__",2,4,"Medium Light","Abstract",
	"Bang",4,7,"Light","Deduction, Party",
	"__Behext__",3,5,"Medium Light","Magic",
	"__Beyond the Sun__",2,4,"Medium","Science Fiction",
	"__Brass Lancashire__",2,4,"Medium Heavy","Industrialization",
	"__Brew__",2,4,"Medium Light","Animals",
	"Calico",1,4,"Medium Light","Animals, Abstract",
	"Camel Up",3,8,"Light","Racing",
	"Cartographers",1,100,"Medium Light","Fantasy",
	"__Cascadia__",1,4,"Medium Light","Animals",
	"Castles of Mad King Ludwig",1,4,"Medium","City Building",
	"__Cat Sodoku__",1,6,"Light","Animals, Party",
	"__Caverna__",1,7,"Medium Heavy","Animals, Farming",
	"__Caverna: Cave vs Cave__",1,2,"Medium","Farming, Animals, Fantasy",
	"Century: Golem",2,5,"Medium Light","Fantasy",
	"__Circadians: Chaos Order__",2,5,"Medium Heavy","Futuristic, War",
	"__Circadians: First Light __",1,4,"Medium","Futuristic",
	"Clank! Acquisitions Incorporated",2,6,"Medium","Fantasy, Dungeon Crawling, Monsters",
	"Clank! Catacombs",1,6,"Medium","Monsters, Fantasy, Dungeon Crawling",
	"Cubitos",2,4,"Medium Light","Racing",
	"__CO2__",1,5,"Medium Heavy","Environmental",
	"__Codenames__",2,8,"Light","Deduction, Party",
	"__Concordia__",1,5,"Medium","Mediterranean",
	"__Cottage Garden__",1,4,"Medium Light","Gardening",
	"__Dead of Winter__",3,5,"Medium","Zombies, Traitor",
	"__Decrypto__",3,8,"Medium Light","Deduction, Party",
	"Dimensions",1,1,"Medium Light","Abstract",
	"Dixit",3,6,"Light","Deduction, Abstract",
	"Dinosaur Island",1,5,"Medium","Animals, City Building",
	"__Dinosaur Tea Party__",3,5,"Light","Animals, Deduction",
	"Dominion",2,4,"Medium Light","Fantasy",
	"__Don't Get Got__",2,10,"Light","Party",
	"__Don't L.L.A.M.A. Dice Game",2,6,"Light","Animals",
	"Dune: Imperium",1,4,"Medium","Science Fiction",
	"__Escape Plan__",1,5,"Medium Heavy","Racing, Heist",
	"Ethnos",2,6,"Medium Light","Fantasy",
	"Exploding Kittens",2,5,"Light","Animals",
	"Explorers of the North Sea",1,4,"Medium Light","Vikings",
	"Fantasy Realms",2,6,"Medium Light","Fantasy",
	"__Fields of Arle__",1,3,"Medium Heavy","Farming, Animals",
	"Fleet: The Dice Game",1,4,"Medium","Fishing",
	"Food Chain Magnante",3,5,"Medium Heavy","Food",
	"__Fort__",2,4,"Medium Light","Playground",
	"__Gate__",1,1,"Medium Light","Horror",
	"__Glass Road__",1,4,"Medium","Farming, Civilization, City Building",
	"__Glitch Squad__",4,8,"Light","Party, Animals, Deduction",
	"Gloomhaven",1,4,"Medium Heavy","Fantasy, Dungeon Crawling",
	"Gloomhaven: Jaws of the Lion",1,4,"Medium Heavy","Fantasy, Dungeon Crawling",
    "__Great Western Trail__",1,4,"Medium Heavy","Animals, Cowboys",
    "__The Great Zimbabwe__",2,5,"Medium Heavy","Africa",
	"__The Grizzled__",3,5,"Medium Light","War",
	"Hadrians Wall",1,6,"Medium","Civilization",
	"__Hallertau__",1,4,"Medium","Farming",
	"__Hansa Teutonica__",2,5,"Medium","Medieval",
	"__High Score__",2,5,"Light","Abstract",
	"Hit Z Road",1,4,"Medium Light","Horror, Zombies, Wasteland",
	"__Horseless Carriage__",3,5,"Heavy","Cars",
	"__Indonesia__",2,5,"Meadium Heavy","Economic",
	"__Inis__",2,5,"Medium","Fantasy, War",
	"__Imperial Settlers__",1,4,"Medium","Civilization, Medieval",
	"__Imperium: Classics__",1,4,"Medium Heavy","Civilization",
	"__Irish Gauge__",3,5,"Medium Light","Trains",
	"The Isle of Cats",1,6,"Medium Light","Animals",
	"Just One",3,7,"Light","Party",
	"Keystone: North America",1,4,"Medium Light","Animals, Environmental",
	"__Kero__",2,2,"Medium Light","Wasteland",
	"Kingdomino",2,5,"Light","Medieval",
	"__Lacrimosa__",1,4,"Medium","Renaissance, Music",
	"__Le Havre__",1,5,"Medium Heavy","City Building",
	"__Libertalia__",1,6,"Medium Light","Fantasy, Pirates",
	"__Lost Ruins of Arnak__",1,4,"Medium","Adventure, Jungle",
	"L.L.A.M.A. Card Game",2,6,"Light","Animals, Party",
	"__Lisboa__",1,4,"Heavy","Colonial, Royalty",
	"__Long Shot: The Dice Game__",1,8,"Light","Animals, Racing",
	"__Lorenzo Il Magnifico__",2,5,"Medium","Renaissance",
	"Love Letter",2,6,"Light","Deduction, Party",
	"__Maglev Metro__",1,4,"Medium","Trains",
	"__The Magnificent__",1,4,"Medium","Magic",
	"__Merkator__",1,4,"Medium","Economic",
	"Marvel Champions",1,4,"Medium Light","Heroes",
	"MicroMacro: Crime City - Full House",1,4,"Light","Detective",
	"My City",2,4,"Medium Light","City Building",
	"__Mysterium Park__",2,6,"Light","Horror, Deduction",
	"Mystic Vale",2,6,"Medium Light","Fantasy",
	"__Neanderthal__",1,3,"Medium Heavy","Prehistoric",
	"__Nemo's War__",1,1,"Medium","Pirates",
	"Off Topic",2,10,"Light","Party",
	"__One Night Ultimate Werewolf__",3,10,"Light","Deduction, Party",
	"Onitama",2,2,"Medium Light","War",
	"__Ora et Labora__",1,4,"Medium Heavy","City Building",
	"__Orleans__",2,5,"Medium","Medieval",
	"__Paladins of the West Kingdom__",1,4,"Medium Heavy","Medieval",
	"__Pan Am__",2,4,"Medium Light","Airplanes",
	"Patchwork",2,2,"Medium Light","Abstract",
	"__Pax Emancipation__",1,3,"Heavy","Political",
	"__Pictures__",3,5,"Light","Abstract, Party, Deduction",
	"__Power Grid__",2,6,"Medium","City Building",
	"__Public Market__",1,4,"Medium","Fishing",
    "The Quacks Of Quedlinburg",2,5,"Medium Light","Fantasy, Racing",
	"The Quest for El Dorado",2,4,"Medium Light","Adventure, Racing, Jungle",
	"__Race for the Galaxy__",2,4,"Medium","Space, Racing",
	"__Raiders of Scythia__",1,4,"Medium","Civilization",
	"__Rajas of the Ganges__",2,4,"Medium","City Building",
	"Red Rising",1,6,"Medium Light","Fantasy",
	"__Risk__",2,6,"Medium Light","War",
	"__Rococo: Deluxe__",1,5,"Medium","Colonial, Royalty",
	"Rolling Realms",1,6,"Medium Light","Abstract, Roll and Write",
	"__Scattergories__",2,6,"Light","Party",
	"Sentinels of the Multiverse",1,5,"Medium","Heroes",
	"Shards of Infinity",1,4,"Medium Light","Fantasy, Heroes",
	"__Sheriff of Nottingham__",3,6,"Medium Light","Fantasy",
	"__Sherlock Holmes Consulting Detective__",1,8,"Medium Light","Deduction",
	"__Shipwrights of the North Sea__",1,5,"Medium","Vikings",
	"Space Base",2,5,"Medium Light","Space",
	"__Spirit Island__",1,4,"Medium Heavy","Fantasy",
	"Splendor",2,4,"Medium Light","Mediterranean",
	"Sprawlopolis",1,4,"Medium Light","City Building",
	"Sushi Go!",2,5,"Light","Food, Party",
	"Terraforming Mars",1,5,"Medium","Science Fiction, City Building",
	"__Terra Mystica__",2,5,"Medium Heavy","Fantasy, City Building",
	"__Tiny Epic Dinosaurs__",1,4,"Medium","Animals",
	"Three Dragon Ante",2,6,"Light","Fantasy",
	"__Thunderstone Quest__",1,6,"Medium","Fantasy, Dungeon Crawling",
	"__Tokyo Highway__",2,4,"Light","Cars, Highway Building",
	"__Treasure Island__",2,5,"Medium Light","Pirates",
	"__Trickerion__",1,4,"Medium Heavy","Magic",
	"__Twilight Imperium__",3,6,"Medium Heavy","Fantasy",
	"__Twilight Inscription__",1,8,"Medium","Fantasy",
	"__Undaunted: North Africa__",2,2,"Medium","War",
	"Under Falling Skies",1,1,"Medium Light","Fantasy",
	"Verdant",1,5,"Medium Light","Plants",
	"Viticulture",1,6,"Medium","Food",
	"__War Chest__",2,4,"Medium Light","War, Abstract, Fantasy",
	"Warps Edge",1,1,"Medium Light","Fantasy",
	"__Wayfarers of the South Tigris__",1,4,"Medium Heavy","Medievil, Mediterranean",
	"__Wavelength__",2,12,"Light","Party, Deduction",
	"Watson and Holmes",2,7,"Medium Light","Detective",
	"__Windward__",1,5,"Medium Light","Fantasy, Animals",
	"Werewords",4,10,"Light","Deduction, Fantasy, Monsters",
	"__Whistle Mountain__",2,4,"Medium","Trains",
	"__Whistle Stop__",2,5,"Medium","Trains",
	"Wingspan",1,7,"Medium Light","Animals"
	];
	
//var randomGameDiv = document.getElementById("randomGame");
var gamesList = document.getElementById("gameList");
var needToPlaygamesList = document.getElementById("needToPlaygameList");
var randomGameDiv = document.getElementById("randomGame");
var numOfGames = document.getElementById("totalGames");
	


function myFunction(){
	clearItems();
	
	var maxPlayerChecked = false;
	var checkPlayerCount = document.getElementById("playerCount").value;
	if(checkPlayerCount.includes("!")){
		var playerCount = parseInt(checkPlayerCount.replace('!',''));
		console.log("Player Count = " +playerCount + " for Max Player Count");
		maxPlayerChecked = true;
	} else {
		var playerCount = parseInt(document.getElementById("playerCount").value);
		console.log("Player Count = " +playerCount);
	}
	
	//get complexity
	var complexityRating = document.getElementById("complexity");
	var valueRating = complexityRating.options[complexityRating.selectedIndex].value;
	
	//get theme
	var themeChoice = document.getElementById("theme");
	var themeValue = themeChoice.options[themeChoice.selectedIndex].value;
	
	var gamesYouCanPlay = [];
	//this is to be used for games with <5 total plays
	var gamesYouShouldPlay = [];
	
	if(valueRating == "All" && themeValue == "All"){
		console.log("Showing all games at player count with all rating and all themes");
		if(maxPlayerChecked == false){
			for(var k = 0; k<=allGames.length-1; k+=5){
				if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2]){
					//gamesYouCanPlay.push(allGames[k]);
					//check if it contains __ at the start
					console.log(allGames[k]);
					if(allGames[k].includes("__")){
						gamesYouShouldPlay.push(allGames[k]);
					}else{
						gamesYouCanPlay.push(allGames[k]);
					}
				}
			}
		}else {
			for(var k = 0; k<=allGames.length-1; k+=5){
				if(playerCount==allGames[k+2]){
					//gamesYouCanPlay.push(allGames[k]);
					//check if it contains __ at the start
					if(allGames[k].includes("__")){
						gamesYouShouldPlay.push(allGames[k]);
					}else{
						gamesYouCanPlay.push(allGames[k]);
					}
				}
			}
		}
	}else{
		//go here is the only thing the user changed was the complexity
		if(themeValue=="All"){
			console.log("Showing all games at player count with "+valueRating+" complexity");
			if(maxPlayerChecked==false){
				for(var k = 0; k<=allGames.length-1; k+=5){
					if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2] && allGames[k+3]==valueRating){
						//gamesYouCanPlay.push(allGames[k]);
						//check if it contains __ at the start
						if(allGames[k].includes("__")){
							gamesYouShouldPlay.push(allGames[k]);
						}else{
							gamesYouCanPlay.push(allGames[k]);
						}
					}
				}
			} else {
				for(var k = 0; k<=allGames.length-1; k+=5){
					if(playerCount==allGames[k+2] && allGames[k+3]==valueRating){
						//gamesYouCanPlay.push(allGames[k]);
						//check if it contains __ at the start
						if(allGames[k].includes("__")){
							gamesYouShouldPlay.push(allGames[k]);
						}else{
							gamesYouCanPlay.push(allGames[k]);
						}
					}
				}
			}
		}else if (valueRating == "All"){
			//go here is the only thing the user changed was the theme
			console.log("the theme was changed");
			if(maxPlayerChecked ==false){
				for(var k = 0; k<=allGames.length-1; k+=5){
					if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2] && allGames[k+4].includes(themeValue)){
						//gamesYouCanPlay.push(allGames[k]);
						//check if it contains __ at the start
						if(allGames[k].includes("__")){
							gamesYouShouldPlay.push(allGames[k]);
						}else{
							gamesYouCanPlay.push(allGames[k]);
						}
					}
				}
			}else{
				for(var k = 0; k<=allGames.length-1; k+=5){
					if(playerCount==allGames[k+2] && allGames[k+4].includes(themeValue)){
						//gamesYouCanPlay.push(allGames[k]);
						//check if it contains __ at the start
						if(allGames[k].includes("__")){
							gamesYouShouldPlay.push(allGames[k]);
						}else{
							gamesYouCanPlay.push(allGames[k]);
						}
					}
				}
			}
		}else{
			// go here if the both were changed
			console.log("both things were changed");
			if(maxPlayerChecked==false){
				for(var k = 0; k<=allGames.length-1; k+=5){
					if(playerCount>=allGames[k+1] && playerCount<=allGames[k+2] && allGames[k+4].includes(themeValue) && allGames[k+3]==valueRating){
						//gamesYouCanPlay.push(allGames[k]);
						//check if it contains __ at the start
						if(allGames[k].includes("__")){
							gamesYouShouldPlay.push(allGames[k]);
						}else{
							gamesYouCanPlay.push(allGames[k]);
						}
					}
				}
			}else{
				for(var k = 0; k<=allGames.length-1; k+=5){
					if(playerCount==allGames[k+2] && allGames[k+4].includes(themeValue) && allGames[k+3]==valueRating){
						//gamesYouCanPlay.push(allGames[k]);
						//check if it contains __ at the start
						if(allGames[k].includes("__")){
							gamesYouShouldPlay.push(allGames[k]);
						}else{
							gamesYouCanPlay.push(allGames[k]);
						}
					}
				}
			
			}
		}
	}
	
	//random game, append to randomDiv
	if(gamesYouCanPlay.length>0 || gamesYouShouldPlay.length>0){
		//pick a random game from the games that have <5 plays
		if(gamesYouShouldPlay.length>0){
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouShouldPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouShouldPlay[gameChosenNumber]));
			var totalGamesToPlay = gamesYouShouldPlay.length + gamesYouCanPlay.length;
			numOfGames.appendChild(document.createTextNode(totalGamesToPlay));
			for(var i=0; i<=gamesYouShouldPlay.length-1;i++){
				needToPlaygamesList.appendChild(document.createTextNode(gamesYouShouldPlay[i]));
				needToPlaygamesList.appendChild(document.createElement("br"));
			}
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		//pick a random gaes from all games
		}else{
			//hide the need to play games section so it doesnt take up space
			  var x = document.getElementById("gamesThatNeedToBePlayed");
			  if (x.style.display === "none") {
			    x.style.display = "block";
			  } else {
			    x.style.display = "none";
			  }
			
			var gameChosenNumber = Math.floor(Math.random()*(gamesYouCanPlay.length));
			randomGameDiv.appendChild(document.createTextNode(gamesYouCanPlay[gameChosenNumber]));
			numOfGames.appendChild(document.createTextNode(gamesYouCanPlay.length));
			for(var i=0; i<=gamesYouCanPlay.length-1;i++){
				gamesList.appendChild(document.createTextNode(gamesYouCanPlay[i]));
				gamesList.appendChild(document.createElement("br"));
			}
		}
			
		
	}else{
		randomGameDiv.appendChild(document.createTextNode("Can't choose if there aren't any games!"));
		gamesList.appendChild(document.createTextNode("Sorry, nothing available at this player count!"));
	}
}

function clearItems(){
	while(gamesList.firstChild){gamesList.removeChild(gamesList.firstChild);}
	while(needToPlaygamesList.firstChild){needToPlaygamesList.removeChild(needToPlaygamesList.firstChild);}
	while(randomGameDiv.firstChild){randomGameDiv.removeChild(randomGameDiv.firstChild);}
	while(numOfGames.firstChild){numOfGames.removeChild(numOfGames.firstChild);}
}
	



</script>
</body>
</html>
